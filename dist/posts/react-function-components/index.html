<!DOCTYPE html>
<html lang="en">
  <head>
    <!-- Global Metadata --><meta charset="utf-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<link rel="icon" type="image/svg+xml" href="/favicon.svg">
<meta name="generator" content="Astro v2.10.14">

<!-- External -->
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css" crossorigin>

<!-- Canonical URL -->
<link rel="canonical" href="https://romgrk.com/posts/react-function-components/">

<!-- Primary Meta Tags -->
<title>The problem with functional components</title>
<meta name="title" content="The problem with functional components">
<meta name="description" content="romgrk ranting about the deprecation of class components">

<!-- Open Graph / Facebook -->
<meta property="og:type" content="website">
<meta property="og:url" content="https://romgrk.com/posts/react-function-components/">
<meta property="og:title" content="The problem with functional components">
<meta property="og:description" content="romgrk ranting about the deprecation of class components">
<meta property="og:image" content="https://romgrk.com/blog-placeholder-1.jpg">

<!-- Twitter -->
<meta property="twitter:card" content="summary_large_image">
<meta property="twitter:url" content="https://romgrk.com/posts/react-function-components/">
<meta property="twitter:title" content="The problem with functional components">
<meta property="twitter:description" content="romgrk ranting about the deprecation of class components">
<meta property="twitter:image" content="https://romgrk.com/blog-placeholder-1.jpg">
  <link rel="stylesheet" href="/_astro/castle.00e48051.css" />
<link rel="stylesheet" href="/_astro/_...slug_.4dd8c914.css" /><link rel="stylesheet" href="/_astro/CodeRunner.b5ac2ea5.css" /><link rel="stylesheet" href="/_astro/RandomPlant.b39ee131.css" /></head>

  <body>
    <header class="header astro-3EF6KSR2">
  <a class="header-title astro-3EF6KSR2" href="/">romgrk</a>

  <div class="header-links astro-3EF6KSR2">
    <a href="/posts" class="astro-3EF6KSR2">
	Posts
</a>
    <a href="/castle" class="astro-3EF6KSR2">
	The Castle, by H. Wenng
</a>
  </div>
  <div class="header-fill astro-3EF6KSR2"></div>
  <a class="header-github astro-3EF6KSR2" href="https://github.com/romgrk" target="_blank">
    <span class="fa fa-github astro-3EF6KSR2"></span>
    <span class="sr-only astro-3EF6KSR2">Github</span>
  </a>
</header>
    <main>
      

<article class="post astro-XJ2UYZ6M">
  <div class="post-header astro-XJ2UYZ6M">
    <div class="post-date astro-XJ2UYZ6M">
      <time datetime="2023-09-21T04:00:00.000Z">
	21 September 2023
</time>
      
    </div>
    <h1 class="post-title astro-XJ2UYZ6M">The problem with functional components</h1>

    <hr class="astro-XJ2UYZ6M">
  </div>

  <!-- <CONTENT> -->
  
        <p>Over the last years, with the introduction of functional components and hooks, React has gradually been phasing out class components. Although I appreciate the introduction of functional components for their simplicity &amp; conciseness, I think that <mark title="read the addendum">removing class components</mark> was the wrong decision.</p>
<p>Let’s look at an example. Below we have equivalent drafts for a <code>Selector</code> component in functional and class versions.</p>
<div class="row mb-1"><pre class="astro-code github-dark-dimmed" style="background-color:#22272e;overflow-x:auto;white-space:pre-wrap;word-wrap:break-word" tabindex="0"><code><span class="line"><span style="color:#F47067">class</span><span style="color:#ADBAC7"> </span><span style="color:#F69D50">Selector</span><span style="color:#ADBAC7"> </span><span style="color:#F47067">extends</span><span style="color:#ADBAC7"> </span><span style="color:#6CB6FF">Component</span><span style="color:#ADBAC7"> {</span></span>
<span class="line"><span style="color:#ADBAC7">  </span><span style="color:#768390">// fields</span></span>
<span class="line"><span style="color:#ADBAC7">  </span><span style="color:#F69D50">id</span><span style="color:#ADBAC7"> </span><span style="color:#F47067">=</span><span style="color:#ADBAC7"> </span><span style="color:#DCBDFB">cuid</span><span style="color:#ADBAC7">()</span></span>
<span class="line"><span style="color:#ADBAC7">  </span><span style="color:#F69D50">ref</span><span style="color:#ADBAC7"> </span><span style="color:#F47067">=</span><span style="color:#ADBAC7"> </span><span style="color:#DCBDFB">createRef</span><span style="color:#ADBAC7">()</span></span>
<span class="line"><span style="color:#ADBAC7">  </span><span style="color:#F69D50">position</span><span style="color:#ADBAC7"> </span><span style="color:#F47067">=</span><span style="color:#ADBAC7"> { x: </span><span style="color:#6CB6FF">0</span><span style="color:#ADBAC7">, y: </span><span style="color:#6CB6FF">0</span><span style="color:#ADBAC7">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#ADBAC7">  </span><span style="color:#768390">// state</span></span>
<span class="line"><span style="color:#ADBAC7">  </span><span style="color:#F69D50">state</span><span style="color:#ADBAC7"> </span><span style="color:#F47067">=</span><span style="color:#ADBAC7"> {</span></span>
<span class="line"><span style="color:#ADBAC7">    open: </span><span style="color:#6CB6FF">false</span><span style="color:#ADBAC7">,</span></span>
<span class="line"><span style="color:#ADBAC7">    loading: </span><span style="color:#6CB6FF">false</span><span style="color:#ADBAC7">,</span></span>
<span class="line"><span style="color:#ADBAC7">    disabled: </span><span style="color:#6CB6FF">false</span><span style="color:#ADBAC7">,</span></span>
<span class="line"><span style="color:#ADBAC7">    selectedIndex: </span><span style="color:#F47067">-</span><span style="color:#6CB6FF">1</span><span style="color:#ADBAC7">,</span></span>
<span class="line"><span style="color:#ADBAC7">  }</span></span>
<span class="line"></span>
<span class="line"><span style="color:#ADBAC7">  </span><span style="color:#768390">// methods</span></span>
<span class="line"><span style="color:#ADBAC7">  </span><span style="color:#DCBDFB">open</span><span style="color:#ADBAC7">() {}</span></span>
<span class="line"><span style="color:#ADBAC7">  </span><span style="color:#DCBDFB">close</span><span style="color:#ADBAC7">() {}</span></span>
<span class="line"><span style="color:#ADBAC7">  </span><span style="color:#DCBDFB">select</span><span style="color:#ADBAC7">(</span><span style="color:#F69D50">index</span><span style="color:#ADBAC7">) {}</span></span>
<span class="line"><span style="color:#ADBAC7">  </span><span style="color:#DCBDFB">focus</span><span style="color:#ADBAC7">() {}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#ADBAC7">  </span><span style="color:#768390">// result</span></span>
<span class="line"><span style="color:#ADBAC7">  </span><span style="color:#DCBDFB">render</span><span style="color:#ADBAC7">() {</span></span>
<span class="line"><span style="color:#ADBAC7">    </span><span style="color:#F47067">return</span><span style="color:#ADBAC7"> (</span></span>
<span class="line"><span style="color:#ADBAC7">      </span><span style="color:#768390">/* ... */</span></span>
<span class="line"><span style="color:#ADBAC7">    )</span></span>
<span class="line"><span style="color:#ADBAC7">  }</span></span>
<span class="line"><span style="color:#ADBAC7">}</span></span></code></pre><pre class="astro-code github-dark-dimmed" style="background-color:#22272e;overflow-x:auto;white-space:pre-wrap;word-wrap:break-word" tabindex="0"><code><span class="line"><span style="color:#F47067">function</span><span style="color:#ADBAC7"> </span><span style="color:#DCBDFB">Selector</span><span style="color:#ADBAC7">(</span><span style="color:#F69D50">props</span><span style="color:#ADBAC7">) {</span></span>
<span class="line"><span style="color:#ADBAC7">  </span><span style="color:#768390">// fields</span></span>
<span class="line"><span style="color:#ADBAC7">  </span><span style="color:#F47067">const</span><span style="color:#ADBAC7"> </span><span style="color:#6CB6FF">id</span><span style="color:#ADBAC7"> </span><span style="color:#F47067">=</span><span style="color:#ADBAC7"> </span><span style="color:#DCBDFB">useRef</span><span style="color:#ADBAC7">(</span><span style="color:#DCBDFB">cuid</span><span style="color:#ADBAC7">())</span></span>
<span class="line"><span style="color:#ADBAC7">  </span><span style="color:#F47067">const</span><span style="color:#ADBAC7"> </span><span style="color:#6CB6FF">ref</span><span style="color:#ADBAC7"> </span><span style="color:#F47067">=</span><span style="color:#ADBAC7"> </span><span style="color:#DCBDFB">useRef</span><span style="color:#ADBAC7">()</span></span>
<span class="line"><span style="color:#ADBAC7">  </span><span style="color:#F47067">const</span><span style="color:#ADBAC7"> </span><span style="color:#6CB6FF">position</span><span style="color:#ADBAC7"> </span><span style="color:#F47067">=</span><span style="color:#ADBAC7"> </span><span style="color:#DCBDFB">useRef</span><span style="color:#ADBAC7">({ x: </span><span style="color:#6CB6FF">0</span><span style="color:#ADBAC7">, y: </span><span style="color:#6CB6FF">0</span><span style="color:#ADBAC7"> })</span></span>
<span class="line"></span>
<span class="line"><span style="color:#ADBAC7">  </span><span style="color:#768390">// state</span></span>
<span class="line"><span style="color:#ADBAC7">  </span><span style="color:#F47067">const</span><span style="color:#ADBAC7"> [</span><span style="color:#6CB6FF">open</span><span style="color:#ADBAC7">, </span><span style="color:#6CB6FF">setOpen</span><span style="color:#ADBAC7">] </span><span style="color:#F47067">=</span><span style="color:#ADBAC7"> </span><span style="color:#DCBDFB">useState</span><span style="color:#ADBAC7">(</span><span style="color:#6CB6FF">false</span><span style="color:#ADBAC7">)</span></span>
<span class="line"><span style="color:#ADBAC7">  </span><span style="color:#F47067">const</span><span style="color:#ADBAC7"> [</span><span style="color:#6CB6FF">loading</span><span style="color:#ADBAC7">, </span><span style="color:#6CB6FF">setLoading</span><span style="color:#ADBAC7">] </span><span style="color:#F47067">=</span><span style="color:#ADBAC7"> </span><span style="color:#DCBDFB">useState</span><span style="color:#ADBAC7">(</span><span style="color:#6CB6FF">false</span><span style="color:#ADBAC7">)</span></span>
<span class="line"><span style="color:#ADBAC7">  </span><span style="color:#F47067">const</span><span style="color:#ADBAC7"> [</span><span style="color:#6CB6FF">disabled</span><span style="color:#ADBAC7">, </span><span style="color:#6CB6FF">setDisabled</span><span style="color:#ADBAC7">] </span><span style="color:#F47067">=</span><span style="color:#ADBAC7"> </span><span style="color:#DCBDFB">useState</span><span style="color:#ADBAC7">(</span><span style="color:#6CB6FF">false</span><span style="color:#ADBAC7">)</span></span>
<span class="line"><span style="color:#ADBAC7">  </span><span style="color:#F47067">const</span><span style="color:#ADBAC7"> [</span><span style="color:#6CB6FF">selectedIndex</span><span style="color:#ADBAC7">, </span><span style="color:#6CB6FF">setSelectedIndex</span><span style="color:#ADBAC7">] </span><span style="color:#F47067">=</span><span style="color:#ADBAC7"> </span><span style="color:#DCBDFB">useState</span><span style="color:#ADBAC7">(</span><span style="color:#F47067">-</span><span style="color:#6CB6FF">1</span><span style="color:#ADBAC7">)</span></span>
<span class="line"></span>
<span class="line"><span style="color:#ADBAC7">  </span><span style="color:#768390">// methods</span></span>
<span class="line"><span style="color:#ADBAC7">  </span><span style="color:#F47067">const</span><span style="color:#ADBAC7"> </span><span style="color:#6CB6FF">open</span><span style="color:#ADBAC7"> </span><span style="color:#F47067">=</span><span style="color:#ADBAC7"> </span><span style="color:#DCBDFB">useCallback</span><span style="color:#ADBAC7">(() </span><span style="color:#F47067">=&gt;</span><span style="color:#ADBAC7"> {}, [])</span></span>
<span class="line"><span style="color:#ADBAC7">  </span><span style="color:#F47067">const</span><span style="color:#ADBAC7"> </span><span style="color:#6CB6FF">close</span><span style="color:#ADBAC7"> </span><span style="color:#F47067">=</span><span style="color:#ADBAC7"> </span><span style="color:#DCBDFB">useCallback</span><span style="color:#ADBAC7">(() </span><span style="color:#F47067">=&gt;</span><span style="color:#ADBAC7"> {}, [])</span></span>
<span class="line"><span style="color:#ADBAC7">  </span><span style="color:#F47067">const</span><span style="color:#ADBAC7"> </span><span style="color:#6CB6FF">select</span><span style="color:#ADBAC7"> </span><span style="color:#F47067">=</span><span style="color:#ADBAC7"> </span><span style="color:#DCBDFB">useCallback</span><span style="color:#ADBAC7">((</span><span style="color:#F69D50">index</span><span style="color:#ADBAC7">) </span><span style="color:#F47067">=&gt;</span><span style="color:#ADBAC7"> {}, [])</span></span>
<span class="line"><span style="color:#ADBAC7">  </span><span style="color:#F47067">const</span><span style="color:#ADBAC7"> </span><span style="color:#6CB6FF">focus</span><span style="color:#ADBAC7"> </span><span style="color:#F47067">=</span><span style="color:#ADBAC7"> </span><span style="color:#DCBDFB">useCallback</span><span style="color:#ADBAC7">(() </span><span style="color:#F47067">=&gt;</span><span style="color:#ADBAC7"> {}, [])</span></span>
<span class="line"></span>
<span class="line"><span style="color:#ADBAC7">  </span><span style="color:#768390">// result</span></span>
<span class="line"><span style="color:#ADBAC7">  </span><span style="color:#F47067">return</span><span style="color:#ADBAC7"> (</span></span>
<span class="line"><span style="color:#ADBAC7">    </span><span style="color:#768390">/* ... */</span></span>
<span class="line"><span style="color:#ADBAC7">  )</span></span>
<span class="line"><span style="color:#ADBAC7">}</span></span></code></pre></div>
<h3 id="issue-1-readability-is-worst">Issue #1: Readability is worst</h3>
<p>Whereas the class version uses idiomatic javascript syntax, the functional one replicates the <strong>same code structure</strong> by mashing every field, state and method into one huge giant function, where method declaration, field initialization and UI rendering intermingle into one ungodly mess.</p>
<p>And you need to wrap everything in <code>useState</code>, <code>useMemo</code> and <code>useCallback</code>. Every field. Every method. Everywhere.</p>
<p>And the worst? I lied above. To be 100% equivalent you’d need to wrap with <code>forwardRef</code> and expose the methods with <code>useImperativeHandle</code>:</p>
<pre class="astro-code github-dark-dimmed" style="background-color:#22272e;overflow-x:auto;white-space:pre-wrap;word-wrap:break-word" tabindex="0"><code><span class="line"><span style="color:#F47067">const</span><span style="color:#ADBAC7"> </span><span style="color:#6CB6FF">Selector</span><span style="color:#ADBAC7"> </span><span style="color:#F47067">=</span><span style="color:#ADBAC7"> </span><span style="color:#DCBDFB">forwardRef</span><span style="color:#ADBAC7">(</span><span style="color:#F47067">function</span><span style="color:#ADBAC7"> </span><span style="color:#DCBDFB">Selector</span><span style="color:#ADBAC7">(</span><span style="color:#F69D50">props</span><span style="color:#ADBAC7">, </span><span style="color:#F69D50">ref</span><span style="color:#ADBAC7">) {</span></span>
<span class="line"><span style="color:#ADBAC7">  </span><span style="color:#768390">/* same as above: fields, state, methods */</span></span>
<span class="line"></span>
<span class="line"><span style="color:#ADBAC7">  </span><span style="color:#DCBDFB">useImperativeHandle</span><span style="color:#ADBAC7">(ref, () </span><span style="color:#F47067">=&gt;</span><span style="color:#ADBAC7"> ({</span></span>
<span class="line"><span style="color:#ADBAC7">    open,</span></span>
<span class="line"><span style="color:#ADBAC7">    close,</span></span>
<span class="line"><span style="color:#ADBAC7">    select,</span></span>
<span class="line"><span style="color:#ADBAC7">    focus,</span></span>
<span class="line"><span style="color:#ADBAC7">  }), [])</span></span>
<span class="line"></span>
<span class="line"><span style="color:#ADBAC7">  </span><span style="color:#768390">/* same as above: result */</span></span>
<span class="line"><span style="color:#ADBAC7">})</span></span>
<span class="line"></span></code></pre>
<h3 id="issue-2-dx-is-worst">Issue #2: DX is worst</h3>
<div class="if-firefox text-warning">NOTE: You appear to be on firefox. This section doesn’t apply for your browser.</div>
<p>Let’s say you’re debugging some bug that happens in response to an event. The handler calls down some function. Which calls another. Few levels more. You know where the bug happens. You’ve set your <code>debugger</code> breakpoint, deep down in the stack. What does your call stack look like?</p>
<style>astro-island,astro-slot,astro-static-slot{display:contents}</style><script>(()=>{var e=async t=>{await(await t())()};(self.Astro||(self.Astro={})).load=e;window.dispatchEvent(new Event("astro:load"));})();;(()=>{var d;{let p={0:t=>u(t),1:t=>l(t),2:t=>new RegExp(t),3:t=>new Date(t),4:t=>new Map(l(t)),5:t=>new Set(l(t)),6:t=>BigInt(t),7:t=>new URL(t),8:t=>new Uint8Array(t),9:t=>new Uint16Array(t),10:t=>new Uint32Array(t)},h=t=>{let[e,n]=t;return e in p?p[e](n):void 0},l=t=>t.map(h),u=t=>typeof t!="object"||t===null?t:Object.fromEntries(Object.entries(t).map(([e,n])=>[e,h(n)]));customElements.get("astro-island")||customElements.define("astro-island",(d=class extends HTMLElement{constructor(){super(...arguments);this.hydrate=async()=>{var i;if(!this.hydrator||!this.isConnected)return;let e=(i=this.parentElement)==null?void 0:i.closest("astro-island[ssr]");if(e){e.addEventListener("astro:hydrate",this.hydrate,{once:!0});return}let n=this.querySelectorAll("astro-slot"),o={},a=this.querySelectorAll("template[data-astro-template]");for(let r of a){let s=r.closest(this.tagName);s!=null&&s.isSameNode(this)&&(o[r.getAttribute("data-astro-template")||"default"]=r.innerHTML,r.remove())}for(let r of n){let s=r.closest(this.tagName);s!=null&&s.isSameNode(this)&&(o[r.getAttribute("name")||"default"]=r.innerHTML)}let c;try{c=this.hasAttribute("props")?u(JSON.parse(this.getAttribute("props"))):{}}catch(r){let s=this.getAttribute("component-url")||"<unknown>",y=this.getAttribute("component-export");throw y&&(s+=` (export ${y})`),console.error(`[hydrate] Error parsing props for component ${s}`,this.getAttribute("props"),r),r}await this.hydrator(this)(this.Component,c,o,{client:this.getAttribute("client")}),this.removeAttribute("ssr"),this.dispatchEvent(new CustomEvent("astro:hydrate"))}}connectedCallback(){!this.hasAttribute("await-children")||this.firstChild?this.childrenConnectedCallback():new MutationObserver((e,n)=>{n.disconnect(),setTimeout(()=>this.childrenConnectedCallback(),0)}).observe(this,{childList:!0})}async childrenConnectedCallback(){let e=this.getAttribute("before-hydration-url");e&&await import(e),this.start()}start(){let e=JSON.parse(this.getAttribute("opts")),n=this.getAttribute("client");if(Astro[n]===void 0){window.addEventListener(`astro:${n}`,()=>this.start(),{once:!0});return}Astro[n](async()=>{let o=this.getAttribute("renderer-url"),[a,{default:c}]=await Promise.all([import(this.getAttribute("component-url")),o?import(o):()=>()=>{}]),i=this.getAttribute("component-export")||"default";if(!i.includes("."))this.Component=a[i];else{this.Component=a;for(let r of i.split("."))this.Component=this.Component[r]}return this.hydrator=c,this.hydrate},e,this)}attributeChangedCallback(){this.hydrate()}},d.observedAttributes=["props"],d))}})();</script><astro-island uid="kwKHz" prefix="r1" component-url="/_astro/react-function-components.10492304.js" component-export="ExampleStack" renderer-url="/_astro/client.afc38b00.js" props="{}" ssr="" client="load" opts="{&quot;name&quot;:&quot;ExampleStack&quot;,&quot;value&quot;:true}" await-children=""><div class="row mb-1"><div class="code-runner"><div class="code-runner-show-context"><button class="sm" title="The context is code executed before this snippet but not relevant to the example.">Show context</button><div style="position:fixed;top:1px;left:1px;width:1px;height:0;padding:0;margin:-1px;overflow:hidden;clip:rect(0, 0, 0, 0);white-space:nowrap;border-width:0;display:none"></div></div><textarea style="--lines:13">class Component {
  a() { this.b() }
  b() { this.c() }
  c() { this.d() }
  d() { this.e() }
  e() {
    printStackTrace()
  }
}

new Component().a()</textarea><button>Run</button><textarea style="--lines:6" disabled=""></textarea></div><div class="code-runner"><div class="code-runner-show-context"><button class="sm" title="The context is code executed before this snippet but not relevant to the example.">Show context</button><div style="position:fixed;top:1px;left:1px;width:1px;height:0;padding:0;margin:-1px;overflow:hidden;clip:rect(0, 0, 0, 0);white-space:nowrap;border-width:0;display:none"></div></div><textarea style="--lines:13">function Component() {
  const a = useCallback(() =&gt; { b() }, [])
  const b = useCallback(() =&gt; { c() }, [])
  const c = useCallback(() =&gt; { d() }, [])
  const d = useCallback(() =&gt; { e() }, [])
  const e = useCallback(() =&gt; {
    printStackTrace()
  }, [])
  return a
}

Component()()</textarea><button>Run</button><textarea style="--lines:6" disabled=""></textarea></div></div></astro-island>
<p>Yup. <code>useCallback</code> prevents the function from being assigned directly to a variable, so it’s anonymous and the engine can’t guess it’s name*. This is what you get in the devtools everytime you look at your call stack. Wanna figure what calls resulted in this bug? Go look at every entry of the stack manually.</p>
<p><em>* SpiderMonkey is the only exception :O V8 and JSC can’t.</em></p>
<h3 id="issue-3-performance-is-worst">Issue #3: Performance is worst</h3>
<p>This one is obvious. Every time your component re-renders, it needs to make:</p>
<pre class="astro-code github-dark-dimmed" style="background-color:#22272e;overflow-x:auto;white-space:pre-wrap;word-wrap:break-word" tabindex="0"><code><span class="line"><span style="color:#768390">/* +1 allocation: return array */</span></span>
<span class="line"><span style="color:#F47067">const</span><span style="color:#ADBAC7"> [</span><span style="color:#6CB6FF">state</span><span style="color:#ADBAC7">, </span><span style="color:#6CB6FF">setState</span><span style="color:#ADBAC7">] </span><span style="color:#F47067">=</span><span style="color:#ADBAC7"> </span><span style="color:#DCBDFB">useState</span><span style="color:#ADBAC7">(</span><span style="color:#6CB6FF">false</span><span style="color:#ADBAC7">)</span></span>
<span class="line"></span>
<span class="line"><span style="color:#768390">/* +2 allocations: inline closure, dependency array */</span></span>
<span class="line"><span style="color:#F47067">const</span><span style="color:#ADBAC7"> </span><span style="color:#6CB6FF">method</span><span style="color:#ADBAC7"> </span><span style="color:#F47067">=</span><span style="color:#ADBAC7"> </span><span style="color:#DCBDFB">useCallback</span><span style="color:#ADBAC7">(() </span><span style="color:#F47067">=&gt;</span><span style="color:#ADBAC7"> {}, [])</span></span>
<span class="line"></span>
<span class="line"><span style="color:#768390">/* +2 allocations: inline closure, dependency array */</span></span>
<span class="line"><span style="color:#F47067">const</span><span style="color:#ADBAC7"> </span><span style="color:#6CB6FF">derived</span><span style="color:#ADBAC7"> </span><span style="color:#F47067">=</span><span style="color:#ADBAC7"> </span><span style="color:#DCBDFB">useMemo</span><span style="color:#ADBAC7">(() </span><span style="color:#F47067">=&gt;</span><span style="color:#ADBAC7"> {}, [props.data])</span></span></code></pre>
<p>In addition to those, which are “React’s fault”, there are also just more allocations by default because there is no differentiation between initialization (like you know, a <code>constructor()</code>) and rendering, so people keep doing allocations like this one:</p>
<pre class="astro-code github-dark-dimmed" style="background-color:#22272e;overflow-x:auto;white-space:pre-wrap;word-wrap:break-word" tabindex="0"><code><span class="line"><span style="color:#768390">/* +1 allocation: inline object */</span></span>
<span class="line"><span style="color:#F47067">const</span><span style="color:#ADBAC7"> </span><span style="color:#6CB6FF">position</span><span style="color:#ADBAC7"> </span><span style="color:#F47067">=</span><span style="color:#ADBAC7"> </span><span style="color:#DCBDFB">useRef</span><span style="color:#ADBAC7">({ x: </span><span style="color:#6CB6FF">0</span><span style="color:#ADBAC7">, y: </span><span style="color:#6CB6FF">0</span><span style="color:#ADBAC7">})</span></span></code></pre>
<p>Anyway let’s test it with my poor man’s implementation of react hooks. It’s accurate in terms of performance overhead, the react hooks implementation also uses a linked list (click Show Context to see the implementation).</p>
<astro-island uid="Z1tw9Wz" prefix="r2" component-url="/_astro/react-function-components.10492304.js" component-export="ExamplePerformance" renderer-url="/_astro/client.afc38b00.js" props="{}" ssr="" client="load" opts="{&quot;name&quot;:&quot;ExamplePerformance&quot;,&quot;value&quot;:true}" await-children=""><div class="row mb-1"><div class="code-runner"><div class="code-runner-show-context"><button class="sm" title="The context is code executed before this snippet but not relevant to the example.">Show context</button><div style="position:fixed;top:1px;left:1px;width:1px;height:0;padding:0;margin:-1px;overflow:hidden;clip:rect(0, 0, 0, 0);white-space:nowrap;border-width:0;display:none"></div></div><textarea style="--lines:10">class Selector {
  id = cuid()
  ref = createRef()
  position = { x: 0, y: 0}

  state = {
    open: false,
    loading: false,
    disabled: false,
    selectedIndex: -1,
  }

  open() {}
  close() {}
  select(index) {}
  focus() {}

  render() {
    return &#x27;&lt;div&gt;Hello&lt;/div&gt;&#x27;
  }
}

const start = Date.now()
const elements = Array.from({ length: 3000 })
  .map(() =&gt; new Selector())
for (let i = 0; i &lt; 5; i++) {
  elements.forEach(e =&gt; e.render())
}
const end = Date.now()
console.log((end - start) + &#x27;ms&#x27;)</textarea><button>Run</button><textarea disabled=""></textarea></div><div class="code-runner"><div class="code-runner-show-context"><button class="sm" title="The context is code executed before this snippet but not relevant to the example.">Show context</button><div style="position:fixed;top:1px;left:1px;width:1px;height:0;padding:0;margin:-1px;overflow:hidden;clip:rect(0, 0, 0, 0);white-space:nowrap;border-width:0;display:none"></div></div><textarea style="--lines:10">function Selector(props) {
  const id = useRef(cuid())
  const ref = useRef()
  const position = useRef({ x: 0, y: 0 })

  const [isOpen, setOpen] = useState(false)
  const [loading, setLoading] = useState(false)
  const [disabled, setDisabled] = useState(false)
  const [selectedIndex, setSelectedIndex] = useState(-1)

  const open = useCallback(() =&gt; {}, [])
  const close = useCallback(() =&gt; {}, [])
  const select = useCallback((index) =&gt; {}, [])
  const focus = useCallback(() =&gt; {}, [])

  return &#x27;&lt;div&gt;Hello&lt;/div&gt;&#x27;
}

const start = Date.now()
const elements = Array.from({ length: 3000 })
  .map((_, i) =&gt; (contexts[i] = { value: null, next: null }))
for (let i = 0; i &lt; 5; i++) {
  elements.forEach((_, i) =&gt; (currentContext = contexts[i], Selector()))
}
const end = Date.now()
console.log((end - start) + &#x27;ms&#x27;)</textarea><button>Run</button><textarea disabled=""></textarea></div></div></astro-island>
<p>Alright, I’ll admit that the use-case (3000 components, render 5x) is a bit of a stretch, and that the impact for the large majority of applications is irrelevant. But in some cases, it does. You’re running this on a fast computer, what would be the result on a low-end device? What happens when you do get to those stretching use-cases? Then you don’t have a choice but to use the wasteful functional components.</p>
<p>Of course if you have a (real) functional component that is just a pure function <code>Component :: props -&gt; UI</code> with no state &amp; hooks, then for sure the functional one is faster. Functional components do have a place, they’re excellent for simple use-cases. But there’s more than just simple use-cases in life..</p>
<h2 id="final-notes">Final notes</h2>
<p>I wish React would keep class components in. I don’t have much hope though. The tendency I’ve seen from the library in the last years is that they try to actively make it impossible to shoot yourself in the foot (see <code>dangerouslySetInnerHTML</code> or <code>componentWillReceiveProps</code>) and to have One Right Way to do things. Which makes sense, from their point of view. They’re maintaining a library with a huge reach, so the biggest problem from their perspective is to ensure that most people are using the library correctly, and that means making things as simple as possible so those with less experience can use it correctly. They basically baby-proof it. The thing is, by doing so they make it harder to solve hard problems.</p>
<br/>
<div class="random-plant"><div class="random-plant-svg"><?xml version="1.0" encoding="utf-8"?>
<svg viewBox="120.252 310.289 129.641 226.433" xmlns="http://www.w3.org/2000/svg">
  <defs>
    <clipPath clipPathUnits="userSpaceOnUse" id="clipPath20">
      <path d="M 0,500 H 750 V 0 H 0 Z" id="path18"/>
    </clipPath>
    <clipPath clipPathUnits="userSpaceOnUse" id="clipPath952">
      <path d="m 127.158,187.434 h 38.934 v -44.2 h -38.934 z" id="path950"/>
    </clipPath>
    <clipPath clipPathUnits="userSpaceOnUse" id="clipPath976">
      <path d="m 141.202,223.736 h 51.365 v -62.865 h -51.365 z" id="path974"/>
    </clipPath>
    <clipPath clipPathUnits="userSpaceOnUse" id="clipPath1000">
      <path d="m 159.658,175.314 h 30.378 v -35.431 h -30.378 z" id="path998"/>
    </clipPath>
    <clipPath clipPathUnits="userSpaceOnUse" id="clipPath1024">
      <path d="m 138.939,125.727 h 72.085 V 69.0254 h -72.085 z" id="path1022"/>
    </clipPath>
  </defs>
  <g id="g8" transform="matrix(1.3333332538604736, 0, 0, -1.3333332538604736, 0, 666.6666870117188)">
    <g id="g14">
      <g id="g16" clip-path="url(#clipPath20)" transform="matrix(1, 0, 0, 1, -23.605152, 28.433477)">
        <g id="g942" transform="translate(167.4219,169.3613)">
          <path d="m 0,0 c -6.334,-2.256 0.209,2.738 1.259,6.039 1.049,3.299 -3.036,9.135 -5.817,8.32 -2.782,-0.814 -6.121,-5.838 -8.212,-4.447 -3.428,2.279 1.524,4.688 2.11,8.057 0.589,3.365 -4.717,5.484 -6.987,3.236 -2.269,-2.25 -3.373,-4.096 -5.064,-3.156 -1.694,0.943 0.833,3.121 0.989,5.441 0.158,2.321 -12.563,5.242 -16.717,4.809 -3.228,-2.649 -10.03,-13.903 -8.269,-15.418 1.762,-1.52 5.565,-1.235 5.043,-3.1 -0.521,-1.867 -3.088,-1.373 -6.282,-1.406 -3.194,-0.035 -5.417,-5.295 -2.611,-7.246 2.808,-1.947 7.787,-0.389 7.139,-4.219 -0.591,-3.488 -6.326,-1.252 -8.86,-2.656 -2.534,-1.406 -1.256,-8.414 1.829,-9.984 3.085,-1.577 13.507,1.492 7.326,-3.012 -5.435,-3.959 -10.675,-1.424 -4.78,-9.106 5.897,-7.679 29.439,1.543 29.439,1.543 l 4.758,2.164 c 0,0 24.059,10.438 21.794,19.85 C 6.377,2.816 3.871,1.379 0,0" style="fill:#84980d;fill-opacity:1;fill-rule:nonzero;stroke:none" id="path944"/>
        </g>
        <g id="g946">
          <g id="g948"/>
          <g id="g960">
            <g clip-path="url(#clipPath952)" opacity="0.100006" id="g958">
              <g transform="translate(160.5181,156.3594)" id="g956">
                <path d="m 0,0 c 8.353,4.334 7.468,8.887 -3.667,4.336 -8.794,-3.596 -3.21,2.303 0.799,7.537 4.012,5.236 -1.04,6.672 -7.594,3.598 -6.555,-3.073 -6.32,-2.278 -2.901,4.662 4.876,9.896 0.374,9.494 -4.406,3.857 -4.78,-5.638 -4.582,5.281 -7.715,6.871 -3.134,1.59 -1.268,-6.144 0.22,-9.593 1.489,-3.448 -5.445,-1.543 -7.164,-4.206 -1.72,-2.669 9.302,-1.576 11.001,-5.482 1.698,-3.904 -8.39,-4.74 -11.304,-6.732 -2.913,-1.994 4.864,-4.289 11.459,-3.748 6.593,0.541 7.634,-4.717 0.083,-6.805 -7.552,-2.086 -8.392,-6.983 0.222,-5.104 4.982,1.088 8.028,-0.367 9.791,-2.316 l 4.373,1.986 c 0,0 0.747,0.332 1.955,0.926 C -5.24,-6.803 -4.653,-2.418 0,0" style="fill:#414042;fill-opacity:1;fill-rule:nonzero;stroke:none" id="path954"/>
              </g>
            </g>
          </g>
        </g>
        <g id="g962" transform="translate(161.2373,160.1582)">
          <path d="m 0,0 c -0.037,0.061 -0.553,-0.162 -1.493,-0.637 -0.933,-0.494 -2.331,-1.168 -4,-2.209 -0.842,-0.515 -1.773,-1.08 -2.79,-1.701 -0.896,-0.588 -1.866,-1.226 -2.887,-1.904 -1.413,3.513 -2.808,6.814 -4.17,9.851 2.705,1.993 4.977,3.573 6.628,4.702 1.973,1.312 3.048,2.084 2.988,2.185 -0.036,0.065 -0.552,-0.162 -1.493,-0.637 -0.932,-0.49 -2.33,-1.164 -4,-2.207 -0.842,-0.513 -1.773,-1.08 -2.789,-1.697 -0.58,-0.383 -1.204,-0.795 -1.842,-1.215 -0.294,0.653 -0.584,1.301 -0.868,1.926 -0.347,0.732 -0.689,1.447 -1.02,2.143 -0.538,1.117 -1.042,2.171 -1.555,3.179 1.491,2.983 2.781,5.399 3.734,7.145 1.16,2.066 1.765,3.244 1.664,3.306 -0.062,0.041 -0.418,-0.392 -1.04,-1.242 -0.605,-0.865 -1.544,-2.103 -2.556,-3.791 -0.515,-0.84 -1.086,-1.767 -1.711,-2.779 -0.242,-0.426 -0.495,-0.875 -0.755,-1.334 -0.522,1.008 -1.024,1.973 -1.485,2.861 -0.588,1.032 -1.127,1.979 -1.612,2.838 -0.951,1.723 -1.846,2.992 -2.42,3.877 -0.59,0.871 -0.931,1.319 -0.994,1.281 -0.101,-0.06 0.46,-1.257 1.545,-3.365 0.933,-1.863 2.207,-4.467 3.673,-7.699 -1.128,0.086 -2.173,0.164 -3.114,0.236 -1.96,0.17 -3.513,0.137 -4.569,0.155 -1.052,-0.004 -1.614,-0.039 -1.618,-0.112 -0.006,-0.119 1.301,-0.32 3.656,-0.593 1.598,-0.208 3.701,-0.495 6.183,-0.885 0.03,-0.065 0.058,-0.125 0.087,-0.194 0.867,-1.939 1.766,-4.088 2.736,-6.394 0.23,-0.58 0.468,-1.168 0.708,-1.764 -0.634,-0.178 -1.256,-0.353 -1.836,-0.515 -1.134,-0.366 -2.173,-0.7 -3.111,-0.999 -1.88,-0.578 -3.308,-1.191 -4.291,-1.574 -0.975,-0.4 -1.481,-0.642 -1.458,-0.711 0.037,-0.113 1.326,0.19 3.61,0.823 1.866,0.494 4.421,1.14 7.538,1.849 0.588,-1.463 1.186,-2.972 1.774,-4.553 0.694,-1.802 1.394,-3.679 2.097,-5.613 -1.264,-0.418 -2.457,-0.816 -3.554,-1.181 -1.115,-0.415 -2.137,-0.797 -3.062,-1.141 -1.849,-0.672 -3.244,-1.35 -4.208,-1.779 -0.954,-0.446 -1.452,-0.711 -1.423,-0.776 0.042,-0.115 1.315,0.252 3.566,0.99 2.164,0.684 5.269,1.627 9.123,2.666 1.206,-3.343 2.418,-6.849 3.63,-10.478 3.632,-10.795 7.195,-22.637 10.466,-34.238 0.992,0.486 2.075,0.806 3.182,0.968 -1.045,3.45 -2.122,6.915 -3.224,10.368 -3.912,12.328 -8.176,24.464 -12.32,34.89 3.18,2.371 5.826,4.217 7.691,5.49 C -1.015,-0.877 0.06,-0.104 0,0" style="fill:#42602f;fill-opacity:1;fill-rule:nonzero;stroke:none" id="path964"/>
        </g>
        <g id="g966" transform="translate(135.582,189.002)">
          <path d="m 0,0 c 9.038,-0.834 -1.188,3.514 -3.664,7.479 -2.476,3.964 0.92,12.958 4.829,12.824 3.909,-0.135 9.955,-5.588 12.226,-3.074 3.721,4.126 -3.558,5.623 -5.452,9.83 -1.892,4.207 4.339,8.748 8.058,6.566 3.718,-2.184 5.779,-4.229 7.678,-2.436 1.9,1.799 -2.131,3.805 -3.112,6.788 -0.98,2.98 14.68,11.052 20.258,11.871 5.108,-2.387 17.76,-14.828 15.963,-17.403 -1.797,-2.574 -6.867,-3.474 -5.561,-5.74 1.306,-2.266 4.499,-0.764 8.686,0.262 4.188,1.021 8.854,-5.119 5.834,-8.606 -3.023,-3.484 -10.054,-3.105 -7.926,-7.9 1.936,-4.363 8.689,0.475 12.474,-0.516 3.785,-0.992 4.453,-10.584 0.941,-13.67 -3.508,-3.086 -18.162,-2.556 -8.576,-6.384 8.432,-3.364 14.439,1.701 9.294,-10.311 -5.146,-12.016 -39.017,-7.812 -39.017,-7.812 l -6.944,1.24 c 0,0 -34.952,5.615 -35.134,18.683 C -9.281,1.555 -5.523,0.514 0,0" style="fill:#99ba13;fill-opacity:1;fill-rule:nonzero;stroke:none" id="path968"/>
        </g>
        <g id="g970">
          <g id="g972"/>
          <g id="g984">
            <g clip-path="url(#clipPath976)" opacity="0.100006" id="g982">
              <g transform="translate(150.2285,174.3027)" id="g980">
                <path d="m 0,0 c -12.374,2.881 -12.735,9.131 3.348,6.898 12.703,-1.765 3.428,4.082 -3.565,9.59 -6.993,5.506 -0.865,9.074 8.733,7.242 9.597,-1.828 9.025,-0.869 2.236,7.063 -9.681,11.312 -3.66,12.293 4.475,6.516 8.134,-5.774 4.228,8.441 7.794,11.564 C 26.59,52 26.732,41.262 25.937,36.254 25.141,31.248 33.574,36.057 36.713,33.145 39.852,30.229 25.072,27.979 24.156,22.301 23.239,16.627 36.712,18.906 41.187,17.27 45.662,15.637 36.258,10.035 27.453,8.543 c -8.804,-1.492 -8.409,-8.717 2.162,-8.926 10.573,-0.205 13.307,-6.33 1.414,-6.75 -6.878,-0.242 -10.376,-3.16 -12.03,-6.299 l -6.381,1.139 c 0,0 -1.09,0.184 -2.865,0.557 C 9.125,-7.145 6.893,-1.604 0,0" style="fill:#414042;fill-opacity:1;fill-rule:nonzero;stroke:none" id="path978"/>
              </g>
            </g>
          </g>
        </g>
        <g id="g986" transform="translate(148.02,179.0312)">
          <path d="m 0,0 c 0.026,0.094 0.776,-0.025 2.164,-0.334 1.384,-0.332 3.44,-0.748 5.969,-1.553 1.273,-0.388 2.68,-0.82 4.217,-1.289 1.366,-0.47 2.85,-0.984 4.412,-1.529 0.673,5.068 1.396,9.85 2.164,14.275 -4.204,1.705 -7.701,3.012 -10.239,3.938 -3.02,1.055 -4.683,1.707 -4.638,1.859 0.027,0.096 0.777,-0.025 2.164,-0.332 1.385,-0.334 3.439,-0.75 5.97,-1.553 1.272,-0.39 2.68,-0.82 4.215,-1.291 0.887,-0.304 1.838,-0.634 2.813,-0.972 0.166,0.955 0.33,1.898 0.493,2.81 0.211,1.073 0.419,2.123 0.618,3.145 0.331,1.637 0.637,3.187 0.971,4.678 -2.943,3.398 -5.439,6.128 -7.268,8.095 -2.208,2.315 -3.393,3.653 -3.281,3.77 0.066,0.072 0.678,-0.375 1.774,-1.281 1.081,-0.928 2.723,-2.233 4.609,-4.1 0.955,-0.928 2.012,-1.951 3.166,-3.066 0.458,-0.477 0.941,-0.981 1.433,-1.493 0.347,1.494 0.682,2.918 0.989,4.235 0.423,1.547 0.811,2.97 1.159,4.256 0.668,2.568 1.414,4.529 1.868,5.878 0.482,1.334 0.779,2.034 0.873,2.006 0.154,-0.045 -0.18,-1.8 -0.897,-4.918 -0.596,-2.748 -1.394,-6.578 -2.231,-11.297 1.448,0.489 2.787,0.94 3.994,1.35 2.505,0.879 4.549,1.354 5.922,1.727 1.379,0.347 2.124,0.492 2.154,0.396 0.049,-0.154 -1.595,-0.851 -4.582,-2 -2.022,-0.801 -4.675,-1.879 -7.792,-3.221 -0.016,-0.093 -0.032,-0.183 -0.049,-0.277 -0.486,-2.83 -0.942,-5.941 -1.442,-9.283 -0.109,-0.832 -0.222,-1.68 -0.337,-2.541 0.889,-0.024 1.761,-0.041 2.575,-0.063 C 25.533,9.928 27.003,9.84 28.333,9.762 30.983,9.631 33.055,9.307 34.468,9.135 35.875,8.938 36.62,8.789 36.612,8.691 36.601,8.533 34.814,8.5 31.616,8.563 29.014,8.584 25.453,8.578 21.14,8.465 20.86,6.355 20.581,4.178 20.34,1.914 c -0.304,-2.588 -0.593,-5.275 -0.867,-8.039 1.793,-0.125 3.485,-0.244 5.041,-0.355 1.597,-0.174 3.063,-0.332 4.385,-0.473 2.643,-0.258 4.696,-0.68 6.099,-0.918 1.396,-0.266 2.135,-0.447 2.12,-0.543 -0.017,-0.162 -1.804,-0.107 -4.995,0.107 -3.058,0.17 -7.434,0.37 -12.821,0.44 -0.46,-4.776 -0.875,-9.768 -1.249,-14.92 -1.143,-15.328 -1.848,-32.004 -2.251,-48.27 -1.462,0.305 -2.987,0.364 -4.486,0.205 0.215,4.856 0.465,9.75 0.753,14.635 1.001,17.43 2.522,34.725 4.461,49.744 -4.949,2.039 -9.028,3.569 -11.892,4.61 C 1.618,-0.805 -0.045,-0.152 0,0" style="fill:#42602f;fill-opacity:1;fill-rule:nonzero;stroke:none" id="path988"/>
        </g>
        <g id="g990" transform="translate(158.0811,158.9687)">
          <path d="M 0,0 C 5.083,-1.322 -0.351,2.117 -1.395,4.611 -2.44,7.107 0.338,11.93 2.558,11.488 4.777,11.045 7.723,7.367 9.254,8.59 c 2.511,2.012 -1.508,3.543 -2.197,6.125 -0.688,2.578 3.293,4.594 5.214,2.998 1.92,-1.592 2.906,-2.951 4.158,-2.106 1.254,0.852 -0.862,2.372 -1.144,4.168 -0.283,1.793 9.414,4.944 12.677,4.891 2.694,-1.84 8.761,-10.125 7.495,-11.428 -1.267,-1.302 -4.247,-1.343 -3.711,-2.759 0.534,-1.416 2.498,-0.856 4.985,-0.663 2.488,0.196 4.581,-3.748 2.53,-5.457 -2.052,-1.709 -6.032,-0.836 -5.264,-3.773 0.699,-2.674 5.008,-0.539 7.077,-1.457 2.07,-0.922 1.558,-6.461 -0.736,-7.897 -2.292,-1.435 -10.612,0.233 -5.493,-2.845 4.502,-2.709 8.405,-0.375 4.347,-6.756 -4.06,-6.383 -23.013,-0.824 -23.013,-0.824 l -3.85,1.353 c 0,0 -19.441,6.463 -18.326,13.945 C -5.156,1.752 -3.107,0.807 0,0" style="fill:#bfd24a;fill-opacity:1;fill-rule:nonzero;stroke:none" id="path992"/>
        </g>
        <g id="g994">
          <g id="g996"/>
          <g id="g1008">
            <g clip-path="url(#clipPath1000)" opacity="0.100006" id="g1006">
              <g transform="translate(164.3486,149.3262)" id="g1004">
                <path d="m 0,0 c -6.799,2.799 -6.424,6.4 2.555,3.627 7.091,-2.191 2.338,2.012 -1.142,5.811 -3.481,3.796 0.351,5.263 5.663,3.322 5.31,-1.94 5.073,-1.336 1.935,3.826 -4.475,7.363 -0.946,7.361 3.163,3.305 4.107,-4.059 3.201,4.425 5.53,5.879 2.329,1.451 1.41,-4.696 0.487,-7.481 -0.919,-2.785 4.346,-0.824 5.867,-2.779 1.521,-1.957 -7.131,-1.867 -8.183,-5.024 C 14.822,7.332 22.73,7.377 25.134,6.025 27.537,4.676 21.644,2.35 16.476,2.32 c -5.167,-0.031 -5.615,-4.195 0.402,-5.299 6.02,-1.103 7.012,-4.857 0.179,-3.986 -3.951,0.502 -6.22,-0.84 -7.457,-2.478 l -3.538,1.246 c 0,0 -0.606,0.207 -1.585,0.586 C 4.546,-4.932 3.787,-1.559 0,0" style="fill:#414042;fill-opacity:1;fill-rule:nonzero;stroke:none" id="path1002"/>
              </g>
            </g>
          </g>
        </g>
        <g id="g1010" transform="translate(163.5278,152.2324)">
          <path d="m 0,0 c 0.023,0.051 0.441,-0.088 1.205,-0.393 0.76,-0.32 1.894,-0.748 3.265,-1.443 0.69,-0.34 1.453,-0.719 2.287,-1.127 0.737,-0.4 1.536,-0.83 2.377,-1.285 0.858,2.832 1.716,5.492 2.568,7.951 C 9.458,5.068 7.583,6.141 6.22,6.904 4.594,7.791 3.705,8.316 3.745,8.4 3.77,8.451 4.186,8.313 4.95,8.01 5.709,7.687 6.844,7.26 8.215,6.564 8.905,6.223 9.668,5.848 10.501,5.436 10.98,5.178 11.493,4.9 12.018,4.617 c 0.184,0.531 0.364,1.053 0.543,1.561 0.221,0.592 0.438,1.172 0.646,1.736 0.342,0.906 0.662,1.762 0.992,2.58 -1.365,2.217 -2.536,4.01 -3.398,5.303 -1.045,1.529 -1.597,2.404 -1.523,2.459 0.045,0.037 0.353,-0.277 0.894,-0.897 0.531,-0.63 1.348,-1.529 2.25,-2.771 0.46,-0.619 0.969,-1.303 1.523,-2.047 0.219,-0.314 0.447,-0.646 0.68,-0.986 0.337,0.82 0.661,1.605 0.959,2.328 0.386,0.844 0.74,1.619 1.059,2.322 0.62,1.404 1.23,2.455 1.615,3.182 0.4,0.72 0.635,1.09 0.685,1.066 0.084,-0.039 -0.271,-1.012 -0.97,-2.724 -0.598,-1.516 -1.409,-3.627 -2.328,-6.247 0.872,0.147 1.68,0.278 2.408,0.401 1.513,0.267 2.724,0.347 3.543,0.433 0.819,0.069 1.259,0.084 1.266,0.026 0.014,-0.094 -0.989,-0.338 -2.803,-0.715 -1.229,-0.27 -2.845,-0.639 -4.75,-1.113 C 15.291,10.461 15.273,10.41 15.256,10.359 14.714,8.787 14.163,7.055 13.566,5.193 13.427,4.729 13.283,4.254 13.137,3.771 c 0.506,-0.095 1.002,-0.189 1.465,-0.277 0.906,-0.203 1.739,-0.39 2.489,-0.558 1.503,-0.323 2.656,-0.702 3.447,-0.93 0.786,-0.244 1.196,-0.399 1.182,-0.453 -0.02,-0.09 -1.044,0.058 -2.865,0.39 -1.484,0.258 -3.518,0.584 -5.992,0.92 -0.357,-1.177 -0.719,-2.396 -1.068,-3.666 -0.414,-1.449 -0.83,-2.957 -1.244,-4.509 1.013,-0.241 1.968,-0.465 2.846,-0.672 0.896,-0.25 1.72,-0.479 2.461,-0.68 1.485,-0.395 2.619,-0.826 3.397,-1.094 0.773,-0.281 1.179,-0.453 1.161,-0.508 -0.024,-0.089 -1.041,0.108 -2.844,0.528 -1.729,0.383 -4.211,0.906 -7.281,1.445 -0.708,-2.684 -1.411,-5.496 -2.103,-8.404 -2.083,-8.649 -4.04,-18.11 -5.785,-27.36 -0.806,0.309 -1.672,0.485 -2.543,0.536 0.575,2.753 1.174,5.525 1.794,8.287 2.196,9.863 4.676,19.601 7.184,27.998 -2.636,1.625 -4.823,2.879 -6.363,3.74 C 0.849,-0.609 -0.04,-0.084 0,0" style="fill:#42602f;fill-opacity:1;fill-rule:nonzero;stroke:none" id="path1012"/>
        </g>
        <g id="g1014" transform="translate(197.7437,69.0254)">
          <path d="m 0,0 c 8.211,8.361 13.281,19.814 13.281,32.461 0,8.887 -2.507,17.187 -6.848,24.24 H 2.076 v 7.153 h -70.269 v -7.153 h -4.357 c -4.34,-7.053 -6.847,-15.353 -6.847,-24.24 0,-12.647 5.07,-24.1 13.281,-32.461 z" style="fill-opacity: 1; fill-rule: nonzero; stroke: none; fill: rgb(126, 91, 58);" id="path1016"/>
        </g>
        <g id="g1018">
          <g id="g1020"/>
          <g id="g1032">
            <g clip-path="url(#clipPath1024)" opacity="0.100006" id="g1030">
              <g transform="translate(138.9395,69.0254)" id="g1028">
                <path d="m 0,0 h 58.804 c 8.211,8.361 13.281,19.814 13.281,32.461 0,8.887 -2.507,17.187 -6.848,24.24 H 60.88 25.446 c 0,0 24.897,-5.279 24.897,-24.775 C 50.343,11.605 26.704,0.965 0,0" style="fill-opacity: 1; fill-rule: nonzero; stroke: none; fill: rgb(38, 38, 39);" id="path1026"/>
              </g>
            </g>
          </g>
        </g>
      </g>
    </g>
  </g>
</svg></div></div>
<br/>
<br/>
<hr/>
<h3 id="addendum-but-theyre-not-removing-class-components">Addendum: <em>“but they’re not removing class components”</em></h3>
<p>Any code written with hooks cannot be used from class components, therefore it’s not possible to write new code with classes because the default style is functional components. The maintainers have also stopped making things usable. It’s not possible to use more than one context in a class component (at least in an ergonomic way). And all the new improvements (e.g. <code>useEffect</code>: running something when a specific set of state/props changes) are also not included in the class components API. So yes, they’re removing them.</p>
      
  <!-- </CONTENT> -->

</article>
    </main>
    <footer class="footer astro-SZ7XMLTE">

  <div class="footer-links astro-SZ7XMLTE">
    <a href="https://github.com/romgrk" target="_blank" class="astro-SZ7XMLTE">
      <span class="fa fa-github astro-SZ7XMLTE"></span>
      <span class="sr-only astro-SZ7XMLTE">Github</span>
    </a>
  </div>

  <div class="footer-dedication astro-SZ7XMLTE">
    <div class="astro-SZ7XMLTE">I dedicate this blog and anyone who reads this sentence to the public domain.</div>
    <div class="astro-SZ7XMLTE">What do you mean that's not how licensing works?</div>
  </div>

</footer>
  </body></html>